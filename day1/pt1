#!/usr/bin/env bash

INPUT_FILE="${1:-input.txt}"

dial=50
accumulated=0

while IFS= read -r line; do
  direction=${line:0:1}
  value=${line:1:10} # Assuming no more than 10 digits

  case $direction in
    L)
      dial=$((dial - value))
      ;;
    R)
      dial=$((dial + value))
      ;;
    *)
      echo "Unknown direction: $direction"
      ;;
  esac

  while ((dial < 0)); do
    dial=$((dial + 100))
  done
  while ((dial >= 100)); do
    dial=$((dial - 100))
  done
  if ((dial == 0)); then
    accumulated=$((accumulated + 1))
  fi

done < "$INPUT_FILE"

echo "Total times dial returned to 0: $accumulated"

